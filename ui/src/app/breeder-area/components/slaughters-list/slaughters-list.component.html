<div class="subtitle">
  <div>Vos prochains abattages</div>
  <app-slaughters-actions (creationLoopBack)="handleSlaughterCreation($event)"></app-slaughters-actions>
  <mat-card *ngFor="let slaughter of slaughters" class="slaughter-card">
    <app-sale-publication
      *ngIf='salePublicationShown(slaughter)'
      [slaughter]='slaughter'
      (salePublicationLoopBack)='handleSalePublication($event)'>
    </app-sale-publication>
    <mat-card-header>
      <mat-card-title>Abattage du {{slaughter.slaughterDate | date: 'longDate'}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      Date de l'abattage : {{slaughter.slaughterDate | date}}
      <br>
      Date de la découpe : {{slaughter.cuttingDate | date}}
      <br>
      Poids vif estimé : {{slaughter.animal.liveWeight}} kg
    </mat-card-content>
    <mat-card-actions>
      <button mat-button *ngIf='!slaughter.delivery' (click)='showSalePublication(slaughter)'>Publier la vente</button>
      <button mat-button *ngIf='!slaughter.delivery' >Abandonner l'abattage</button>
    </mat-card-actions>
  </mat-card>
</div>

